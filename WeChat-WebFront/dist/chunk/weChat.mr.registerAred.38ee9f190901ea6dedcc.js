(window.webpackJsonpRK=window.webpackJsonpRK||[]).push([[20],{397:function(e,t,n){var r=n(147);(e.exports=n(5)(!1)).push([e.i,"\nbody {\n  background: #f4f4f5 url("+r(n(463))+") no-repeat center center;\n  background-size: 100% 116%;\n}\n.register header {\n  padding: 16px 0;\n  background: #ffffff;\n  text-align: center;\n}\n.register header div {\n  text-align: left;\n  color: #222222;\n  font-size: 14px;\n  margin-left: 16px;\n}\n.register .addBoby {\n  text-align: center;\n  font-size: 14px;\n  color: #999999;\n  margin-top: 20px;\n  cursor: pointer;\n}\n.register .parentForm {\n  border-top: 1px solid #e8e8e8;\n}\n.register .parentForm .form {\n  margin: 12px;\n}\n.register .parentForm .form .nickName {\n  background: #ffffff;\n  margin-bottom: 8px;\n  color: #999999;\n  font-size: 14px;\n}\n.register .parentForm .form .hr {\n  border-top: 1px solid red;\n}\n.register .parentForm .form .weui-cell:before {\n  border: none;\n}\n.register .parentForm .form label {\n  margin: 0 auto;\n  font-size: 14px;\n}\n.register .parentForm .form input {\n  position: relative;\n  top: 1px;\n  color: #222222;\n}\n.register .parentForm .form input::-webkit-input-placeholder {\n  color: #999999;\n  font-size: 13px;\n}\n.register .parentForm .form input:-moz-placeholder,\n.register .parentForm .form textarea:-moz-placeholder {\n  color: #666;\n  font-size: 13px;\n}\n.register .parentForm .form input::-moz-placeholder,\n.register .parentForm .form textarea::-moz-placeholder {\n  font-size: 13px;\n  color: #666;\n}\n.register .parentForm .form input:-ms-input-placeholder,\n.register .parentForm .form textarea:-ms-input-placeholder {\n  font-size: 13px;\n  color: #666;\n}\n.register .btns {\n  width: 80%;\n  padding: 4px;\n  font-size: 16px;\n  margin: 30px auto 20px;\n}\n.register .describe {\n  margin: 32px 16px;\n  font-size: 12px;\n  color: #999999;\n}\n.register .weui-cell__hd {\n  position: relative;\n  padding-right: 10px;\n}\n.register .weui-cell__hd .leftBorder {\n  width: 1px;\n  height: 20px;\n  border-right: 1px solid #e0e0e0;\n  position: absolute;\n  top: 50%;\n  right: 11px;\n  transform: translateY(-50%);\n}\n.register .registerCheckbox {\n  text-indent: 5px;\n  margin-top: 5px;\n}\n.register .registerCheckbox-details {\n  font-size: 13px;\n  color: blue;\n  position: relative;\n  top: -3px;\n  text-decoration: underline;\n}\n.register .vux-check-icon > .weui-icon-success:before,\n.register .vux-check-icon > .weui-icon-success-circle:before {\n  color: #9fa974;\n}\n",""])},462:function(e,t,n){var r=n(397);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=(0,n(6).default)("33217b2a",r,!1,{});r.locals||e.hot.accept(397,function(){var t=n(397);"string"==typeof t&&(t=[[e.i,t,""]]),i(t)}),e.hot.dispose(function(){i()})},463:function(e,t,n){e.exports=n.p+"assets/img/back.1dc89.png"},489:function(e,t,n){"use strict";n.r(t);var r=n(374),i=n(332),a=n(58),o=n(328),s=n(28),l=n(340),c=n(330),d=(n(329),n(341)),p=n(60),u=n(17),f=n(2),m=n.n(f),b=n(26),h={URL:"/minos-bookstore/member",registeredMember:function(e,t){b.default.com({data:m()(e),type:"post",url:this.URL+"/update"},t)}},g=n(363),v=(u.a,i.a,o.a,a.a,l.a,c.a,s.a,d.a,p.a,r.a,{directives:{TransferDom:u.a},components:{XInput:i.a,XButton:o.a,Group:a.a,PopupRadio:l.a,Datetime:c.a,Cell:s.a,CheckIcon:d.a,XDialog:p.a,Agreement:r.a},created:function(){var e=this;g.a.getUserInfo(function(t){if(200==t.code){e.userInfo=t.data;var n=e.userInfo.member;e.addForm.map(function(e){e.babyName=n.babyName||"",e.babyGender=n.babyGender&&n.babyGender.toString(),e.cellphone=n.cellphone||"",e.babyBirth=utils.date.timeToStr(n.babyBirth||new Date,"YYYY-MM-dd")})}})},data:function(){return{URL:utils.url.curr,currDate:utils.date.timeToStr(new Date,"yyyy"),userInfo:{},sexList:[{key:"1",value:"男"},{key:"2",value:"女"}],addForm:[{nickname:"",babyName:"",babyGender:"1",cellphone:"",email:"",babyBirth:utils.date.timeToStr(new Date,"YYYY-MM-dd"),inviteCode:""}],isCheckBoxPro:!1,showDialogStyle:!1}},methods:{xieyixuzhi:function(){this.showDialogStyle=!0},submitMembershipCard:function(){for(var e=this,t=this.addForm,n="",r=0;r<t.length;r++){var i=t[r];if(!i.babyName){n="姓名不能为空";break}if(!i.babyGender){n="性别不能为空";break}if(!i.cellphone){n="手机号不能为空";break}if(i.cellphone=i.cellphone.replace(/\s|\xA0/g,""),!/^[1][34578][0-9]{9}$/.test(i.cellphone)){n="手机号格式错误";break}if(!i.babyBirth){n="出生日期不能为空";break}}if(n)return utils.toast(n);var a=t[0];h.registeredMember({name:a.babyName,gender:a.babyGender,birth:new Date(a.babyBirth).getTime(),phone:a.cellphone,type:"2"},function(t){return 200==t.code?e.$vux.alert.show({title:"恭喜",content:"恭喜您！获得阅读劵一张",onShow:function(){},onHide:function(){}}):30004==t.code?e.$vux.alert.show({title:"提示信息",content:t.message,onShow:function(){},onHide:function(){}}):void 0})},addBaby:function(){this.addForm.push({nickname:"",babyName:"",babyGender:"1",cellphone:"",email:"",babyBirth:utils.date.timeToStr(new Date,"YYYY-MM-dd"),inviteCode:""})}}}),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[e._m(0),e._v(" "),e._l(e.addForm,function(t){return n("div",{staticClass:"parentForm"},[n("article",{staticClass:"form"},[n("x-input",{staticClass:"nickName",attrs:{title:"昵称",placeholder:"昵称",disabled:""},model:{value:e.userInfo.wpInfo.nickname,callback:function(t){e.$set(e.userInfo.wpInfo,"nickname","string"==typeof t?t.trim():t)},expression:"userInfo.wpInfo.nickname"}},[n("div",{staticClass:"leftBorder",attrs:{slot:"restricted-label"},slot:"restricted-label"})]),e._v(" "),n("x-input",{staticClass:"nickName",attrs:{title:"姓名",placeholder:"请输入宝宝大名","is-type":"china-name",required:""},model:{value:t.babyName,callback:function(n){e.$set(t,"babyName","string"==typeof n?n.trim():n)},expression:"v.babyName"}},[n("div",{staticClass:"leftBorder",attrs:{slot:"restricted-label"},slot:"restricted-label"})]),e._v(" "),n("x-input",{staticClass:"nickName",attrs:{title:"电话",mask:"999 9999 9999",placeholder:"提交后不可修改",max:13,"is-type":"china-mobile",required:""},model:{value:t.cellphone,callback:function(n){e.$set(t,"cellphone","string"==typeof n?n.trim():n)},expression:"v.cellphone"}},[n("div",{attrs:{slot:"label"},slot:"label"},[e._v("*电话")]),e._v(" "),n("div",{staticClass:"leftBorder",attrs:{slot:"restricted-label"},slot:"restricted-label"})]),e._v(" "),n("popup-radio",{staticClass:"nickName",attrs:{title:"性别",options:e.sexList},model:{value:t.babyGender,callback:function(n){e.$set(t,"babyGender",n)},expression:"v.babyGender"}}),e._v(" "),n("datetime",{staticClass:"nickName",attrs:{title:"宝宝生日","min-year":"1900","max-year":e.currDate},model:{value:t.babyBirth,callback:function(n){e.$set(t,"babyBirth",n)},expression:"v.babyBirth"}})],1)])}),e._v(" "),n("section",[n("div",[n("check-icon",{staticClass:"registerCheckbox",attrs:{value:e.isCheckBoxPro},on:{"update:value":function(t){e.isCheckBoxPro=t}}}),e._v(" "),n("span",{staticClass:"registerCheckbox-details",on:{click:e.xieyixuzhi}},[e._v("已阅读并同意小宝图书馆会员协议及须知")])],1),e._v(" "),n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("x-dialog",{attrs:{"hide-on-blur":"","dialog-style":{"max-width":"90%",width:"90%","background-color":"#ffffff",verflow:"hidden","overflow-y":"auto"}},model:{value:e.showDialogStyle,callback:function(t){e.showDialogStyle=t},expression:"showDialogStyle"}},[n("p",{staticStyle:{color:"#fff","text-align":"center"},on:{click:function(t){e.showDialogStyle=!1}}}),n("p",{staticStyle:{height:"40px","line-height":"40px","border-bottom":"1px solid #9fa974","font-size":"15px",color:"#000000"},attrs:{aclign:"center"}},[e._v("\n            小宝图书馆会员协议及须知\n            "),n("svg",{staticClass:"vux-x-icon vux-x-icon-ios-close-outline",staticStyle:{fill:"#9fa974",right:"16px",top:"7px",position:"absolute"},attrs:{type:"ios-close-outline",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 512 512"},on:{click:function(t){e.showDialogStyle=!1}}},[n("path",{staticClass:"st0",attrs:{d:"M403.1 108.9c-81.2-81.2-212.9-81.2-294.2 0s-81.2 212.9 0 294.2c81.2 81.2 212.9 81.2 294.2 0s81.2-213 0-294.2zm-12.3 281.9c-74.3 74.3-195.3 74.3-269.6 0-74.3-74.3-74.3-195.3 0-269.6s195.3-74.3 269.6 0c74.4 74.3 74.4 195.3 0 269.6z"}}),n("path",{staticClass:"st0",attrs:{d:"M340.2 160l-84.4 84.2-84-83.8-11.8 11.8 84 83.8-84 83.8 11.8 11.8 84-83.8 84.4 84.2 11.8-11.8-84.4-84.2 84.4-84.2z"}})])]),e._v(" "),n("Agreement"),e._v(" "),n("p")],1)],1)]),e._v(" "),n("x-button",{staticClass:"btns",attrs:{type:"primary",disabled:!e.isCheckBoxPro},nativeOn:{click:function(t){return e.submitMembershipCard(t)}}},[e._v("立即领取")]),e._v(" "),n("div",{staticClass:"describe"},[e._v("请放心，我们会妥善保管您的个人信息。手机号码作为您到店入场时快速查询会员信息的依据。填写宝宝信息，我们将在宝宝生日时送上一份惊喜。")])],2)},y=[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("div",[this._v("感谢您对小宝图书馆的信任和支持！")]),this._v(" "),t("div",[this._v("填写以下信息即可申请在开业期间免费体验一天。")]),this._v(" "),t("div",[this._v("2018年9月19日截止领取喔～")])])}];x._withStripped=!0,e.hot.accept(),e.hot.data&&n(0).rerender("data-v-94174e88",{render:x,staticRenderFns:y});var k=n(1),w=!1;var _=function(e){w||n(462)},C=Object(k.a)(v,x,y,!1,_,null,null);C.options.__file="src/views/weChat/member/registerAred/index.vue",function(){var t=n(0);t.install(n(3),!1),t.compatible&&(e.hot.accept(),e.hot.data?t.reload("data-v-94174e88",C.options):t.createRecord("data-v-94174e88",C.options),e.hot.dispose(function(e){w=!0}))}();t.default=C.exports}}]);